{"ast":null,"code":"var _jsxFileName = \"/Users/stoyannikolov/Desktop/softuni-react-exam/src/login/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Components from 'react';\nimport fire from \"../fire\";\nimport \"./loginStyles.css\";\nimport { render } from \"react-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Login extends Components {\n  constructor() {\n    super(props);\n    this.state = {\n      user: \"\",\n      setUser: \"\",\n      email: \"\",\n      setEmail: \"\",\n      password: \"\",\n      setPassword: \"\",\n      emailError: \"\",\n      setEmailError: \"\",\n      passwordError: \"\",\n      setPasswordError: \"\",\n      hasAccount: false,\n      setHasAccount: false\n    };\n    this.handleLogin;\n    this.handleSignUp;\n    this.handleLogout;\n    this.auth;\n  } //   const [user, setUser] = useState(\"\");\n  //   const [email, setEmail] = useState(\"\");\n  //   const [password, setPassword] = useState(\"\");\n  //   const [emailError, setEmailError] = useState(\"\");\n  //   const [passwordError, setPasswordError] = useState(\"\");\n  //   const [hasAccount, setHasAccount] = useState(false);\n\n\n  render() {\n    handleLogin = () => {\n      clearErrors();\n      fire.auth().signInWithEmailAndPassword(email, password).catch(err => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n\n          case \"auth/wrong-password\":\n            setPasswordError(err.message);\n            break;\n        }\n      });\n    };\n\n    handleSignUp = () => {\n      clearErrors();\n      fire.auth().createUserWithEmailAndPassword(email, password).catch(err => {\n        switch (err.code) {\n          case \"auth/invalid-already-in-use\":\n          case \"auth/invalid-email\":\n            setEmailError(err.message);\n            break;\n\n          case \"auth/weak-password\":\n            setPasswordError(err.message);\n            break;\n        }\n      });\n    };\n\n    handleLogout = () => {\n      fire.auth().signOut();\n    };\n\n    authListener = () => {\n      fire.auth().onAuthStateChanged(user => {\n        if (user) {\n          clearInputs();\n          setUser(user);\n        } else {\n          setUser(\"\");\n        }\n      });\n    };\n\n    clearInputs = () => {\n      setEmail(\"\");\n      setPassword(\"\");\n    };\n\n    clearErrors = () => {\n      setEmailError(\"\");\n      setPasswordError(\"\");\n    };\n\n    useEffect(() => {\n      authListener();\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"login\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            autoFocus: true,\n            required: true,\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: emailError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            autoFocus: true,\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: passwordError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btnContainer\",\n            children: hasAccount ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLogin,\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Don't have an account ?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => setHasAccount(!hasAccount),\n                  children: \"Sign up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSignUp,\n                children: \"Sign up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Have an account ?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => setHasAccount(!hasAccount),\n                  children: \"Sign in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\n;\nexport default Login;","map":{"version":3,"sources":["/Users/stoyannikolov/Desktop/softuni-react-exam/src/login/Login.js"],"names":["React","useState","useEffect","Components","fire","render","Login","constructor","props","state","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","handleLogin","handleSignUp","handleLogout","auth","clearErrors","signInWithEmailAndPassword","catch","err","code","message","createUserWithEmailAndPassword","signOut","authListener","onAuthStateChanged","clearInputs","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Components from 'react'\nimport fire from \"../fire\";\nimport \"./loginStyles.css\";\nimport { render } from \"react-dom\";\n\nclass Login extends Components{\n    constructor(){\n        super(props);\n        this.state = {\n            user: \"\",\n            setUser: \"\",\n            email: \"\",\n            setEmail: \"\",\n            password: \"\",\n            setPassword: \"\", \n            emailError: \"\",\n            setEmailError: \"\",\n            passwordError: \"\",\n            setPasswordError: \"\",\n            hasAccount: false,\n            setHasAccount: false\n        }\n        this.handleLogin\n        this.handleSignUp\n        this.handleLogout\n        this.auth\n    }\n//   const [user, setUser] = useState(\"\");\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [emailError, setEmailError] = useState(\"\");\n//   const [passwordError, setPasswordError] = useState(\"\");\n//   const [hasAccount, setHasAccount] = useState(false);\n\n  render(){\n\n   handleLogin = () => {\n    clearErrors();\n    fire\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(err.message);\n            break;\n        }\n      });\n  };\n\n   handleSignUp = () => {\n    clearErrors();\n    fire\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/invalid-already-in-use\":\n          case \"auth/invalid-email\":\n            setEmailError(err.message);\n            break;\n          case \"auth/weak-password\":\n            setPasswordError(err.message);\n            break;\n        }\n      });\n  };\n\n   handleLogout = () => {\n    fire.auth().signOut();\n  };\n\n   authListener = () => {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        clearInputs();\n        setUser(user);\n      } else {\n        setUser(\"\");\n      }\n    });\n  };\n\n   clearInputs = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n   clearErrors = () => {\n    setEmailError(\"\");\n    setPasswordError(\"\");\n  };\n\n  useEffect(() => {\n    authListener();\n  }, []);\n    return (\n        <div className=\"login-form\">\n          <section className=\"login\">\n            <div className=\"loginContainer\">\n              <label>Username</label>\n              <br />\n              <input\n                type=\"email\"\n                autoFocus\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              ></input>\n              <p>{emailError}</p>\n              <label>Password</label>\n              <br />\n              <input\n                type=\"password\"\n                autoFocus\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              ></input>\n              <p>{passwordError}</p>\n              <div className=\"btnContainer\">\n                {hasAccount ? (\n                  <>\n                    <button onClick={handleLogin}>Sign in</button>\n                    <p>\n                      Don't have an account ?{\" \"}\n                      <span onClick={() => setHasAccount(!hasAccount)}>\n                        Sign up\n                      </span>\n                    </p>\n                  </>\n                ) : (\n                  <>\n                    <button onClick={handleSignUp}>Sign up</button>\n                    <p>\n                      Have an account ?{\" \"}\n                      <span onClick={() => setHasAccount(!hasAccount)}>\n                        Sign in\n                      </span>\n                    </p>\n                  </>\n                )}\n              </div>\n            </div>\n          </section>\n        </div>\n      );\n  }\n  \n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}